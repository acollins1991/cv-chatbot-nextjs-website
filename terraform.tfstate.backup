{
  "version": 4,
  "terraform_version": "1.13.1",
  "serial": 107,
  "lineage": "264cbd94-1bd8-f99c-4eab-380301f26f83",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "archive_file",
      "name": "forex_api_zip",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "exclude_symlink_directories": null,
            "excludes": null,
            "id": "c3f15ae7c756fed0cfdc9a95dfe32bd15b5f759a",
            "output_base64sha256": "fEVppl9TiGheG1QznYOf2XXr0MduXjTd0tdSpiiFjmI=",
            "output_base64sha512": "jtQzkGhQFVw1+RJ6p4GiyNdONFQFWaJzDokKloOrKQXmGtKmR6izVf01X4M4MQiLEY33m0cwtrX/N3XdO7ZvRA==",
            "output_file_mode": "0666",
            "output_md5": "296650bf7fc36677168a272a97afa734",
            "output_path": "./tmp/forex_api.zip",
            "output_sha": "c3f15ae7c756fed0cfdc9a95dfe32bd15b5f759a",
            "output_sha256": "7c4569a65f5388685e1b54339d839fd975ebd0c76e5e34ddd2d752a628858e62",
            "output_sha512": "8ed433906850155c35f9127aa781a2c8d74e34540559a2730e890a9683ab2905e61ad2a647a8b355fd355f833831088b118df79b4730b6b5ff3775dd3bb66f44",
            "output_size": 977,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": null,
            "source_file": "./index.py",
            "type": "zip"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_bedrock_foundation_model",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "customizations_supported": [],
            "id": "amazon.titan-embed-text-v2:0",
            "inference_types_supported": [
              "ON_DEMAND"
            ],
            "input_modalities": [
              "TEXT"
            ],
            "model_arn": "arn:aws:bedrock:eu-west-2::foundation-model/amazon.titan-embed-text-v2:0",
            "model_id": "amazon.titan-embed-text-v2:0",
            "model_name": "Titan Embeddings G2 - Text",
            "output_modalities": [
              "EMBEDDING"
            ],
            "provider_name": "Amazon",
            "response_streaming_supported": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "258587214769",
            "arn": "arn:aws:iam::258587214769:user/AnthonyCollinsPortfolioStackDeployment",
            "id": "258587214769",
            "user_id": "AIDATYNH7YOYWOXN4AIN4"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy",
      "name": "lambda_basic_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "attachment_count": 2,
            "description": "Provides write permissions to CloudWatch Logs.",
            "id": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "name": "AWSLambdaBasicExecutionRole",
            "path": "/service-role/",
            "path_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAJNCQGXC42545SKXIK",
            "tags": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_partition",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_region",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Europe (London)",
            "endpoint": "ec2.eu-west-2.amazonaws.com",
            "id": "eu-west-2",
            "name": "eu-west-2"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent",
      "name": "forex_asst",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "agent_arn": "arn:aws:bedrock:eu-west-2:258587214769:agent/VMPNAZLXQZ",
            "agent_collaboration": "DISABLED",
            "agent_id": "VMPNAZLXQZ",
            "agent_name": "ForexAssistant",
            "agent_resource_role_arn": "arn:aws:iam::258587214769:role/AmazonBedrockExecutionRoleForAgents_ForexAssistant",
            "agent_version": null,
            "customer_encryption_key_arn": null,
            "description": "An assisant that provides forex rate information.",
            "foundation_model": "amazon.titan-embed-text-v2:0",
            "guardrail_configuration": null,
            "id": "VMPNAZLXQZ",
            "idle_session_ttl_in_seconds": 600,
            "instruction": "You are an assistant that looks up today's currency exchange rates. A user may ask you what the currency exchange rate is for one currency to another. They may provide either the currency name or the three-letter currency code. If they give you a name, you may first need to first look up the currency code by its name.",
            "memory_configuration": null,
            "prepare_agent": true,
            "prompt_override_configuration": [
              {
                "override_lambda": null,
                "prompt_configurations": null
              }
            ],
            "skip_resource_in_use_check": false,
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_agent_forex_asst",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent_action_group",
      "name": "forex_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action_group_executor": [
              {
                "custom_control": null,
                "lambda": "arn:aws:lambda:eu-west-2:258587214769:function:ForexAPI"
              }
            ],
            "action_group_id": "1PB4QF0HVU",
            "action_group_name": "ForexAPI",
            "action_group_state": "ENABLED",
            "agent_id": "VMPNAZLXQZ",
            "agent_version": "DRAFT",
            "api_schema": [
              {
                "payload": "openapi: 3.0.0\ninfo:\n  title: Currency API\n  description: Provides information about different currencies.\n  version: 1.0.0\nservers:\n  - url: https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1\npaths:\n  /currencies:\n    get:\n      description: |\n        List all available currencies\n      responses:\n        \"200\":\n          description: Successful response\n          content:\n            application/json:\n              schema:\n                type: object\n                description: |\n                  A map where the key refers to the lowercase three-letter currency code and the value to the currency name in English.\n                additionalProperties:\n                  type: string\n  /currencies/{code}:\n    get:\n      description: |\n        List the exchange rates of all available currencies with the currency specified by the given currency code in the URL path parameter as the base currency\n      parameters:\n        - in: path\n          name: code\n          required: true\n          description: The lowercase three-letter code of the base currency for which to fetch exchange rates\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Successful response\n          content:\n            application/json:\n              schema:\n                type: object\n                description: |\n                  A map where the key refers to the three-letter currency code of the target currency and the value to the exchange rate to the target currency.\n                additionalProperties:\n                  type: number\n                  format: float\n",
                "s3": []
              }
            ],
            "description": "The currency exchange rates API",
            "function_schema": [],
            "id": "1PB4QF0HVU,VMPNAZLXQZ,DRAFT",
            "parent_action_group_signature": null,
            "prepare_agent": true,
            "skip_resource_in_use_check": true,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.forex_asst",
            "aws_iam_role.bedrock_agent_forex_asst",
            "aws_iam_role.lambda_forex_api",
            "aws_lambda_function.forex_api",
            "data.archive_file.forex_api_zip",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_agent_knowledge_base_association",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "agent_id": "VMPNAZLXQZ",
            "agent_version": "DRAFT",
            "description": "Use this knowledge base to retrieve information on foreign currency exchange, such as the FX Global Code.",
            "id": "VMPNAZLXQZ,DRAFT,LJGAGD3HLS",
            "knowledge_base_id": "LJGAGD3HLS",
            "knowledge_base_state": "ENABLED",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.forex_asst",
            "aws_bedrockagent_knowledge_base.forex_kb",
            "aws_iam_role.bedrock_agent_forex_asst",
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_iam_role_policy.bedrock_kb_forex_kb_model",
            "aws_iam_role_policy.bedrock_kb_forex_kb_oss",
            "aws_iam_role_policy.bedrock_kb_forex_kb_s3",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "aws_s3_bucket.forex_kb",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this",
            "opensearch_index.forex_kb",
            "time_sleep.aws_iam_role_policy_bedrock_kb_forex_kb_oss"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_data_source",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "data_deletion_policy": "DELETE",
            "data_source_configuration": [
              {
                "confluence_configuration": [],
                "s3_configuration": [
                  {
                    "bucket_arn": "arn:aws:s3:::forex-kb-euw2-258587214769",
                    "bucket_owner_account_id": null,
                    "inclusion_prefixes": null
                  }
                ],
                "salesforce_configuration": [],
                "share_point_configuration": [],
                "type": "S3",
                "web_configuration": []
              }
            ],
            "data_source_id": "R94KYQRNC4",
            "description": null,
            "id": "R94KYQRNC4,LJGAGD3HLS",
            "knowledge_base_id": "LJGAGD3HLS",
            "name": "ForexKBDataSource",
            "server_side_encryption_configuration": [],
            "timeouts": null,
            "vector_ingestion_configuration": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_knowledge_base.forex_kb",
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_iam_role_policy.bedrock_kb_forex_kb_model",
            "aws_iam_role_policy.bedrock_kb_forex_kb_oss",
            "aws_iam_role_policy.bedrock_kb_forex_kb_s3",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "aws_s3_bucket.forex_kb",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this",
            "opensearch_index.forex_kb",
            "time_sleep.aws_iam_role_policy_bedrock_kb_forex_kb_oss"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_bedrockagent_knowledge_base",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:bedrock:eu-west-2:258587214769:knowledge-base/LJGAGD3HLS",
            "created_at": "2025-08-28T20:49:25Z",
            "description": null,
            "failure_reasons": null,
            "id": "LJGAGD3HLS",
            "knowledge_base_configuration": [
              {
                "type": "VECTOR",
                "vector_knowledge_base_configuration": [
                  {
                    "embedding_model_arn": "arn:aws:bedrock:eu-west-2::foundation-model/amazon.titan-embed-text-v2:0",
                    "embedding_model_configuration": [
                      {
                        "bedrock_embedding_model_configuration": [
                          {
                            "dimensions": 512,
                            "embedding_data_type": null
                          }
                        ]
                      }
                    ],
                    "supplemental_data_storage_configuration": []
                  }
                ]
              }
            ],
            "name": "ForexKB",
            "role_arn": "arn:aws:iam::258587214769:role/AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB",
            "storage_configuration": [
              {
                "opensearch_serverless_configuration": [
                  {
                    "collection_arn": "arn:aws:aoss:eu-west-2:258587214769:collection/3b9vc6bjq59x54ezzvg8",
                    "field_mapping": [
                      {
                        "metadata_field": "AMAZON_BEDROCK_METADATA",
                        "text_field": "AMAZON_BEDROCK_TEXT_CHUNK",
                        "vector_field": "bedrock-knowledge-base-default-vector"
                      }
                    ],
                    "vector_index_name": "bedrock-knowledge-base-default-index"
                  }
                ],
                "pinecone_configuration": [],
                "rds_configuration": [],
                "redis_enterprise_cloud_configuration": [],
                "type": "OPENSEARCH_SERVERLESS"
              }
            ],
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "updated_at": "2025-08-28T20:49:25Z"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_iam_role_policy.bedrock_kb_forex_kb_model",
            "aws_iam_role_policy.bedrock_kb_forex_kb_oss",
            "aws_iam_role_policy.bedrock_kb_forex_kb_s3",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "aws_s3_bucket.forex_kb",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this",
            "opensearch_index.forex_kb",
            "time_sleep.aws_iam_role_policy_bedrock_kb_forex_kb_oss"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "bedrock_agent_forex_asst",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::258587214769:role/AmazonBedrockExecutionRoleForAgents_ForexAssistant",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Condition\":{\"ArnLike\":{\"aws:SourceArn\":\"arn:aws:bedrock:eu-west-2:258587214769:agent/*\"},\"StringEquals\":{\"aws:SourceAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"bedrock.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-08-28T20:39:10Z",
            "description": "",
            "force_detach_policies": false,
            "id": "AmazonBedrockExecutionRoleForAgents_ForexAssistant",
            "inline_policy": [
              {
                "name": "AmazonBedrockAgentBedrockFoundationModelPolicy_ForexAssistant",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"bedrock:InvokeModel\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:bedrock:eu-west-2::foundation-model/amazon.titan-embed-text-v2:0\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "AmazonBedrockExecutionRoleForAgents_ForexAssistant",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATYNH7YOYVIRUIIA65"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "bedrock_kb_forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::258587214769:role/AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Condition\":{\"ArnLike\":{\"aws:SourceArn\":\"arn:aws:bedrock:eu-west-2:258587214769:knowledge-base/*\"},\"StringEquals\":{\"aws:SourceAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"bedrock.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-08-28T20:39:10Z",
            "description": "",
            "force_detach_policies": false,
            "id": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB",
            "inline_policy": [
              {
                "name": "AmazonBedrockFoundationModelPolicyForKnowledgeBase_ForexKB",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"bedrock:InvokeModel\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:bedrock:eu-west-2::foundation-model/amazon.titan-embed-text-v2:0\"}]}"
              },
              {
                "name": "AmazonBedrockOSSPolicyForKnowledgeBase_ForexKB",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"aoss:APIAccessAll\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:aoss:eu-west-2:258587214769:collection/3b9vc6bjq59x54ezzvg8\"}]}"
              },
              {
                "name": "AmazonBedrockS3PolicyForKnowledgeBase_ForexKB",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"s3:ListBucket\",\"Condition\":{\"StringEquals\":{\"aws:PrincipalAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::forex-kb-euw2-258587214769\",\"Sid\":\"S3ListBucketStatement\"},{\"Action\":\"s3:GetObject\",\"Condition\":{\"StringEquals\":{\"aws:PrincipalAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::forex-kb-euw2-258587214769/*\",\"Sid\":\"S3GetObjectStatement\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATYNH7YOYXSFFNJFCG"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_forex_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::258587214769:role/FunctionExecutionRoleForLambda_ForexAPI",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Condition\":{\"StringEquals\":{\"aws:SourceAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-08-28T20:39:09Z",
            "description": "",
            "force_detach_policies": false,
            "id": "FunctionExecutionRoleForLambda_ForexAPI",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
            ],
            "max_session_duration": 3600,
            "name": "FunctionExecutionRoleForLambda_ForexAPI",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROATYNH7YOYYNJNM5W2K"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "bedrock_agent_forex_asst",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "AmazonBedrockExecutionRoleForAgents_ForexAssistant:AmazonBedrockAgentBedrockFoundationModelPolicy_ForexAssistant",
            "name": "AmazonBedrockAgentBedrockFoundationModelPolicy_ForexAssistant",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"bedrock:InvokeModel\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:bedrock:eu-west-2::foundation-model/amazon.titan-embed-text-v2:0\"}]}",
            "role": "AmazonBedrockExecutionRoleForAgents_ForexAssistant"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_agent_forex_asst",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "bedrock_kb_forex_kb_model",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB:AmazonBedrockFoundationModelPolicyForKnowledgeBase_ForexKB",
            "name": "AmazonBedrockFoundationModelPolicyForKnowledgeBase_ForexKB",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"bedrock:InvokeModel\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:bedrock:eu-west-2::foundation-model/amazon.titan-embed-text-v2:0\"}]}",
            "role": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "bedrock_kb_forex_kb_oss",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB:AmazonBedrockOSSPolicyForKnowledgeBase_ForexKB",
            "name": "AmazonBedrockOSSPolicyForKnowledgeBase_ForexKB",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"aoss:APIAccessAll\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:aoss:eu-west-2:258587214769:collection/3b9vc6bjq59x54ezzvg8\"}]}",
            "role": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "bedrock_kb_forex_kb_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB:AmazonBedrockS3PolicyForKnowledgeBase_ForexKB",
            "name": "AmazonBedrockS3PolicyForKnowledgeBase_ForexKB",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":\"s3:ListBucket\",\"Condition\":{\"StringEquals\":{\"aws:PrincipalAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::forex-kb-euw2-258587214769\",\"Sid\":\"S3ListBucketStatement\"},{\"Action\":\"s3:GetObject\",\"Condition\":{\"StringEquals\":{\"aws:PrincipalAccount\":\"258587214769\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::forex-kb-euw2-258587214769/*\",\"Sid\":\"S3GetObjectStatement\"}]}",
            "role": "AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_s3_bucket.forex_kb",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic_execution_role_policy_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "FunctionExecutionRoleForLambda_ForexAPI-20250828203910631600000006",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "FunctionExecutionRoleForLambda_ForexAPI"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_forex_api",
            "data.aws_caller_identity.this",
            "data.aws_iam_policy.lambda_basic_execution"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "forex_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:eu-west-2:258587214769:function:ForexAPI",
            "code_sha256": "fEVppl9TiGheG1QznYOf2XXr0MduXjTd0tdSpiiFjmI=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "A Lambda function for the forex API action group",
            "environment": [],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "./tmp/forex_api.zip",
            "function_name": "ForexAPI",
            "handler": "index.lambda_handler",
            "id": "ForexAPI",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:258587214769:function:ForexAPI/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-08-28T20:39:18.924+0000",
            "layers": [],
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/ForexAPI",
                "system_log_level": ""
              }
            ],
            "memory_size": 128,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-2:258587214769:function:ForexAPI:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:eu-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-2:258587214769:function:ForexAPI:$LATEST/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::258587214769:role/FunctionExecutionRoleForLambda_ForexAPI",
            "runtime": "python3.12",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "fEVppl9TiGheG1QznYOf2XXr0MduXjTd0tdSpiiFjmI=",
            "source_code_size": 977,
            "tags": {},
            "tags_all": {},
            "timeout": 3,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_iam_role.lambda_forex_api",
            "data.archive_file.forex_api_zip",
            "data.aws_caller_identity.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "forex_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:invokeFunction",
            "event_source_token": "",
            "function_name": "ForexAPI",
            "function_url_auth_type": "",
            "id": "terraform-20250828203924584500000008",
            "principal": "bedrock.amazonaws.com",
            "principal_org_id": "",
            "qualifier": "",
            "source_account": "258587214769",
            "source_arn": "arn:aws:bedrock:eu-west-2:258587214769:agent/*",
            "statement_id": "terraform-20250828203924584500000008",
            "statement_id_prefix": "terraform-"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_forex_api",
            "aws_lambda_function.forex_api",
            "data.archive_file.forex_api_zip",
            "data.aws_caller_identity.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_opensearchserverless_access_policy",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": null,
            "id": "bedrock-knowledge-base-forex-kb",
            "name": "bedrock-knowledge-base-forex-kb",
            "policy": "[{\"Principal\":[\"arn:aws:iam::258587214769:role/AmazonBedrockExecutionRoleForKnowledgeBase_ForexKB\",\"arn:aws:iam::258587214769:user/AnthonyCollinsPortfolioStackDeployment\"],\"Rules\":[{\"Permission\":[\"aoss:CreateIndex\",\"aoss:DeleteIndex\",\"aoss:DescribeIndex\",\"aoss:ReadDocument\",\"aoss:UpdateIndex\",\"aoss:WriteDocument\"],\"Resource\":[\"index/bedrock-knowledge-base-forex-kb/*\"],\"ResourceType\":\"index\"},{\"Permission\":[\"aoss:CreateCollectionItems\",\"aoss:DescribeCollectionItems\",\"aoss:UpdateCollectionItems\"],\"Resource\":[\"collection/bedrock-knowledge-base-forex-kb\"],\"ResourceType\":\"collection\"}]}]",
            "policy_version": "MTc1NjQxMzU1MDY3MV8x",
            "type": "data"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_opensearchserverless_collection",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:aoss:eu-west-2:258587214769:collection/3b9vc6bjq59x54ezzvg8",
            "collection_endpoint": "https://3b9vc6bjq59x54ezzvg8.eu-west-2.aoss.amazonaws.com",
            "dashboard_endpoint": "https://3b9vc6bjq59x54ezzvg8.eu-west-2.aoss.amazonaws.com/_dashboards",
            "description": null,
            "id": "3b9vc6bjq59x54ezzvg8",
            "kms_key_arn": "auto",
            "name": "bedrock-knowledge-base-forex-kb",
            "standby_replicas": "ENABLED",
            "tags": null,
            "tags_all": {},
            "timeouts": null,
            "type": "VECTORSEARCH"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_opensearchserverless_security_policy",
      "name": "forex_kb_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": null,
            "id": "bedrock-knowledge-base-forex-kb",
            "name": "bedrock-knowledge-base-forex-kb",
            "policy": "{\"AWSOwnedKey\":true,\"Rules\":[{\"Resource\":[\"collection/bedrock-knowledge-base-forex-kb\"],\"ResourceType\":\"collection\"}]}",
            "policy_version": "MTc1NjQxMzU0OTYzOV8x",
            "type": "encryption"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_opensearchserverless_security_policy",
      "name": "forex_kb_network",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": null,
            "id": "bedrock-knowledge-base-forex-kb",
            "name": "bedrock-knowledge-base-forex-kb",
            "policy": "[{\"AllowFromPublic\":true,\"Rules\":[{\"Resource\":[\"collection/bedrock-knowledge-base-forex-kb\"],\"ResourceType\":\"collection\"},{\"Resource\":[\"collection/bedrock-knowledge-base-forex-kb\"],\"ResourceType\":\"dashboard\"}]}]",
            "policy_version": "MTc1NjQxMzU0OTY5OF8x",
            "type": "network"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::forex-kb-euw2-258587214769",
            "bucket": "forex-kb-euw2-258587214769",
            "bucket_domain_name": "forex-kb-euw2-258587214769.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "forex-kb-euw2-258587214769.s3.eu-west-2.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [
              {
                "id": "8d701fe26ba41fc1e0840f172afa66d81a5efe9534cf3e98cd1dc704c86dc516",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3GKZC51ZF0DB4",
            "id": "forex-kb-euw2-258587214769",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "eu-west-2",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": true,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "data.aws_caller_identity.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_server_side_encryption_configuration",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "forex-kb-euw2-258587214769",
            "expected_bucket_owner": "",
            "id": "forex-kb-euw2-258587214769",
            "rule": [
              {
                "apply_server_side_encryption_by_default": [
                  {
                    "kms_master_key_id": "",
                    "sse_algorithm": "AES256"
                  }
                ],
                "bucket_key_enabled": false
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.forex_kb",
            "data.aws_caller_identity.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_versioning",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "forex-kb-euw2-258587214769",
            "expected_bucket_owner": "",
            "id": "forex-kb-euw2-258587214769",
            "mfa": null,
            "versioning_configuration": [
              {
                "mfa_delete": "",
                "status": "Enabled"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.forex_kb",
            "aws_s3_bucket_server_side_encryption_configuration.forex_kb",
            "data.aws_caller_identity.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "forex_asst_prepare",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "status": "tainted",
          "schema_version": 0,
          "attributes": {
            "id": "254006474498731092",
            "triggers": {
              "forex_api_state": "b5e91e5526cf0fe2b35fbd88a1f118363ae1bdce4ed0110567ede614f08c9ce7",
              "forex_kb_state": "9d91f16b9e36d2924e2d2f3f26ed5a3ebbcc69035ec6f67b830b892363ca1061"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_bedrockagent_agent.forex_asst",
            "aws_bedrockagent_agent_action_group.forex_api",
            "aws_bedrockagent_knowledge_base.forex_kb",
            "aws_iam_role.bedrock_agent_forex_asst",
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_iam_role.lambda_forex_api",
            "aws_iam_role_policy.bedrock_kb_forex_kb_model",
            "aws_iam_role_policy.bedrock_kb_forex_kb_oss",
            "aws_iam_role_policy.bedrock_kb_forex_kb_s3",
            "aws_lambda_function.forex_api",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "aws_s3_bucket.forex_kb",
            "data.archive_file.forex_api_zip",
            "data.aws_bedrock_foundation_model.this",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this",
            "opensearch_index.forex_kb",
            "time_sleep.aws_iam_role_policy_bedrock_kb_forex_kb_oss"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "opensearch_index",
      "name": "forex_kb",
      "provider": "provider[\"registry.terraform.io/opensearch-project/opensearch\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "aliases": null,
            "analysis_analyzer": null,
            "analysis_char_filter": null,
            "analysis_filter": null,
            "analysis_normalizer": null,
            "analysis_tokenizer": null,
            "analyze_max_token_count": null,
            "auto_expand_replicas": null,
            "blocks_metadata": null,
            "blocks_read": null,
            "blocks_read_only": null,
            "blocks_read_only_allow_delete": null,
            "blocks_write": null,
            "codec": null,
            "default_pipeline": null,
            "force_destroy": true,
            "gc_deletes": null,
            "highlight_max_analyzed_offset": null,
            "id": "bedrock-knowledge-base-default-index",
            "include_type_name": null,
            "index_knn": true,
            "index_knn_algo_param_ef_search": "512",
            "index_similarity_default": null,
            "indexing_slowlog_level": null,
            "indexing_slowlog_source": null,
            "indexing_slowlog_threshold_index_debug": null,
            "indexing_slowlog_threshold_index_info": null,
            "indexing_slowlog_threshold_index_trace": null,
            "indexing_slowlog_threshold_index_warn": null,
            "load_fixed_bitset_filters_eagerly": null,
            "mappings": "{\n  \"properties\": {\n    \"bedrock-knowledge-base-default-vector\": {\n      \"type\": \"knn_vector\",\n      \"dimension\": 512,\n      \"method\": {\n        \"name\": \"hnsw\",\n        \"engine\": \"faiss\",\n        \"parameters\": {\n          \"m\": 16,\n          \"ef_construction\": 512\n        },\n        \"space_type\": \"l2\"\n      }\n    },\n    \"AMAZON_BEDROCK_METADATA\": {\n      \"type\": \"text\",\n      \"index\": \"false\"\n    },\n    \"AMAZON_BEDROCK_TEXT_CHUNK\": {\n      \"type\": \"text\",\n      \"index\": \"true\"\n    }\n  }\n}\n",
            "max_docvalue_fields_search": null,
            "max_inner_result_window": null,
            "max_ngram_diff": null,
            "max_refresh_listeners": null,
            "max_regex_length": null,
            "max_rescore_window": null,
            "max_result_window": null,
            "max_script_fields": null,
            "max_shingle_diff": null,
            "max_terms_count": null,
            "name": "bedrock-knowledge-base-default-index",
            "number_of_replicas": "0",
            "number_of_routing_shards": null,
            "number_of_shards": "2",
            "refresh_interval": null,
            "rollover_alias": null,
            "routing_allocation_enable": null,
            "routing_partition_size": null,
            "routing_rebalance_enable": null,
            "search_idle_after": null,
            "search_slowlog_level": null,
            "search_slowlog_threshold_fetch_debug": null,
            "search_slowlog_threshold_fetch_info": null,
            "search_slowlog_threshold_fetch_trace": null,
            "search_slowlog_threshold_fetch_warn": null,
            "search_slowlog_threshold_query_debug": null,
            "search_slowlog_threshold_query_info": null,
            "search_slowlog_threshold_query_trace": null,
            "search_slowlog_threshold_query_warn": null,
            "shard_check_on_startup": null,
            "sort_field": null,
            "sort_order": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "aws_iam_role_policy_bedrock_kb_forex_kb_oss",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_duration": "20s",
            "destroy_duration": null,
            "id": "2025-08-28T20:40:01Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "aws_iam_role.bedrock_kb_forex_kb",
            "aws_iam_role_policy.bedrock_kb_forex_kb_oss",
            "aws_opensearchserverless_access_policy.forex_kb",
            "aws_opensearchserverless_collection.forex_kb",
            "aws_opensearchserverless_security_policy.forex_kb_encryption",
            "aws_opensearchserverless_security_policy.forex_kb_network",
            "data.aws_caller_identity.this",
            "data.aws_partition.this",
            "data.aws_region.this"
          ]
        }
      ]
    },
    {
      "module": "module.bedrock",
      "mode": "data",
      "type": "aws_bedrock_foundation_model",
      "name": "model_identifier",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "agent_alias_permissions",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "app_inference_profile_permission",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "custom_model_trust",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_bedrock_custom_model",
      "name": "custom_model",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_bedrockagent_agent",
      "name": "agent_supervisor",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bedrock_kb_kendra",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bedrock_kb_s3_decryption_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bedrock_kb_sql",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bedrock_kb_sql_provisioned",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bedrock_kb_sql_serverless",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "application_inference_profile_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "custom_model_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "action_group_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "agent_alias_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "app_inference_profile_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "app_inference_profile_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "custom_model_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "guardrail_policy_supervisor_agent",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_kb_s3_decryption_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_knowledge_base_kendra_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_knowledge_base_sql_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_knowledge_base_sql_provision_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bedrock_knowledge_base_sql_serverless_policy_attachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_application_inference_profile",
      "name": "application_inference_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_blueprint",
      "name": "bda_blueprint",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_data_automation_project",
      "name": "bda_project",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_flow_alias",
      "name": "flow_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_flow_version",
      "name": "flow_version",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_guardrail",
      "name": "guardrail",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_guardrail_version",
      "name": "guardrail",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_kendra",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_mongo",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_neptune_analytics",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_opensearch",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_pinecone",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_rds",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_knowledge_base",
      "name": "knowledge_base_sql",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_prompt",
      "name": "prompt",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_bedrock_prompt_version",
      "name": "prompt_version",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_iam_role",
      "name": "kendra_index_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_iam_role",
      "name": "kendra_s3_datasource_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_iam_role_policy",
      "name": "kendra_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_kendra_data_source",
      "name": "kendra_s3_data_source",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_kendra_index",
      "name": "genai_kendra_index",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "awscc_s3_bucket",
      "name": "custom_model_output",
      "provider": "provider[\"registry.terraform.io/hashicorp/awscc\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_after_kendra_index_creation",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_after_kendra_s3_data_source_creation",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_for_inference_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": []
    },
    {
      "module": "module.bedrock",
      "mode": "managed",
      "type": "time_sleep",
      "name": "wait_for_use_inference_profile_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": []
    },
    {
      "module": "module.upload_to_bucket",
      "mode": "data",
      "type": "external",
      "name": "awscli_program",
      "provider": "provider[\"registry.terraform.io/hashicorp/external\"]",
      "instances": []
    }
  ],
  "check_results": null
}
